<!DOCTYPE html>
<html layout:decorate="~{layout}">
<head>
	<meta charset="UTF-8">
	<link rel="stylesheet" href="https://cdn.datatables.net/2.0.7/css/dataTables.dataTables.css" /> 
	<script src="https://cdn.datatables.net/2.0.7/js/dataTables.js"></script>
</head>
<main id="main" class="main" layout:fragment="corpo">
     <div class="row">
          <div class="col-lg-12">
            <ol class="breadcrumb">
              <li><i class="fa fa-home"></i><a href="home.html"> Home </a></li>
              <li>  <i class="fa fa-bars"></i> Listar Contas </li>
            </ol>
          </div>
     </div>		
	<nav class="navbar navbar-expand-md bg-light">
			<div class="collapse navbar-collapse" id="navbarsExampleDefault">
				<ul class="navbar-nav mr-auto">
					<li class="nav-item active">
						<i class="oi oi-caret-right"></i>
						<span>Lista de Contas</span>
					</li>
				</ul>
			</div>
			<a id="btnadd" class="btn btn-primary btn-md" rel="modal:open" th:href="@{/conta/cadastrar}" role="button"> 
			 	<span 	class="oi oi-plus" title="Cadastro" aria-hidden="true"></span> 
			 	<span>Nova Conta</span>
			</a>
	</nav>
	
<!----------------------------------------- alerta ---------------------------------------------------->				
			<div class="alert alert-dismissible  fade show" style="display: none;" 	role="alert">
				<strong>Alerta!</strong>
				<p>Favor verificar o suporte.</p>
				<button type="button" class="btn-close" data-bs-dismiss="alert"
					aria-label="Close"></button>
			</div>
<!-------------------------------------------------- Lista ------------------------------------------------>	
	  	<div class="Containner">
	  	<div class="row">
				<div class="card">
					<div class="table-responsive" >				
							<table id ="myTable "class="table table-bordered table-striped table-hover ">
								<thead class="thead-light">
									<tr>
							 			<th pages:sort="apelido">Apelido Conta</th>
										<th pages:sort="tipoConta.descricao">Tipo</th>
										<th pages:sort="instituicao">Instituição</th>
										<th pages:sort="agencia">Agência</th>
										<th pages:sort="numero">Número</th>
										<th align-text="center">Dia do Venc.</th>
										<th align-text="center">Melhor Dia Compra</th>
										<th pages:sort="moedas?.codigo">Moeda</th>
										<th pages:sort="saldo">Saldo</th>
										<th pages:sort="inativo">Inativo</th>
										<th><i class="icon_cogs"></i> Ação</th>
									</tr>
								</thead>
							</table>
					 	</div>							
				</div>
		</div>
</div>		
<script>

</script>
	</main>  
</html>
<script src="https://code.jquery.com/jquery-1.12.2.min.js" integrity="sha256-lZFHibXzMHo3GGeehn1hudTAP3Sc0uKXBXAzHX1sjtk=" crossorigin="anonymous"></script>
<script src="https://code.jquery.com/ui/1.12.1/jquery-ui.min.js" integrity="sha256-VazP97ZCwtekAsvgPBSUwPFKdrwD3unUfSGVYrahUqU=" crossorigin="anonymous"></script>
<script src="http://cdn.datatables.net/1.10.11/js/jquery.dataTables.min.js"></script>
<script src="../js/dataTables.cellEdit.js"></script>
<script>
var table;
$(document).ready(function () {
	console.log("iniciao data	")
    table = $('#myTable').DataTable(
  {
    serverSide: true,
    ajax: {
		type : 'GET' ,
        url: '/FinancaPessoal/conta',        
        dataFilter: function(data){
            var json = jQuery.parseJSON( data );
            json.recordsTotal = json.total;
            json.recordsFiltered = json.total;
            json.data = json.list;
 
            return JSON.stringify( json ); // return JSON string
        }
    }
} )
});
</script>