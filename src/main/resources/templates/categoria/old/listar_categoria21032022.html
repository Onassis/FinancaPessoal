<!DOCTYPE html>
<html layout:decorate="~{home}">
<!---------------------------------------------- cabeçalho -------------------------------------------------->
	<section class="layout-content" layout:fragment="corpo">
		<nav class="navbar navbar-expand-md bg-light">
			<div class="collapse navbar-collapse" id="navbarsExampleDefault">
				<ul class="navbar-nav mr-auto">
					<li class="nav-item active"><i class="oi oi-caret-right"></i>
						<span>Lista de Categorias</span></li>
				</ul>
			</div>
			<a id="btnadd" class="btn btn-primary btn-md"
				th:href="@{/categoria/cadastrar/}" role="button"> <span
				class="oi oi-plus" title="Cadastro" aria-hidden="true"></span> <span>Nova
					Categoria</span>
			</a>
		</nav>
<!---------------------------------------------- alerta -------------------------------------------------->		
		<div class="alert alert-dismissible  fade show" style="display: none;"
			role="alert">
			<strong>Alerta!</strong>
			<p>Favor verificar o suporte.</p>
			<button type="button" class="btn-close" data-bs-dismiss="alert"
				aria-label="Close"></button>
		</div>
<!---------------------------------------------- nav tabs  -------------------------------------------------->
<ul class="nav nav-tabs" id="myTab" role="tablist">
	<li class="nav-item">
		<a class="nav-link active"  id="debito-tab" href="/categoria/listar/D" data-url="/categoria/listar/D" 
			data-toggle="tab" role="tab" aria-controls="debito" aria-selected="true" >Débito</a>					
	</li>
	<li class="nav-item">
	 <a class="nav-link"  id="credit-tab" href="/categoria/listar/C" data-url="/categoria/listar/C"
		data-toggle="tab" role="tab" aria-controls="credito" aria-selected="false" >Credito</a>	
	</li>
</ul>
<!---------------------------------------------- nav tabs conteúdo -------------------------------------------------->
<div class="tab-content" id="myTab" role="tablist">>
	<div class="tab-pane fade show active" id="debito-tab"role="tabpanel" aria-labelledby="debito-tab">
		<table class="table table-striped table-advance table-hover">
			<thead>
				<tr>
					<th style="display:none;">#</th>
					<th><i class="icon_profile"></i> Categoria</th>
					<th><i class="money-check-alt"></i> Débito/Credito</th>
					<th><i class="icon_cogs"></i> Ação</th>
				</tr>
			</thead>
			<div th:switch="${categoriaDTO}">
				<h2 th:case="null">Nenhuma categoria foi encontrada</h2>
			<div th:case="*">
			<tbody>
				<tr th:each="c : ${categoriaDTO}">
					<td style="display:none;"  th:text="${c.id}">1</td>
					<td th:text="${c.descricao}">Auxiliar Contábil</td>
					<td th:text="${c.tipoLancamento.getDescricao()}">Auxiliar Contábil</td>
					<td colspan="3">
						<a th:if="${c.tipoCategoria == 'CT'}" class="btn btn-info btn-sm btnsubCatergoria"
							th:href="@{/categoria/subcategoria/cadastar/{id} (id=${c.id}) }" role="button"> 
							<span class="oi oi-plus" title="Adicionar SubCategoria" aria-hidden="true"></span> 
						</a> 
					   <a th:if="${c.tipoCategoria == 'SC'}" class="btn btn-info btn-sm btnSubCatergoria"
						  th:href="@{/categoria/subcategoria/cadastrar/{id} (id=${c.idCategoria}) }" role="button"> 
						  <span class="oi oi-calculator" title="Lançamento" aria-hidden="true"></span>
					   </a> 
					  <a class="btn btn-info btn-sm btnEditar" id="btn_editar" 	
					     th:href="@{/categoria/editar/{id} (id=${c.id}) }" 	role="button"> 
					     <span class="oi oi-brush" title="Editar" aria-hidden="true"></span>
					  </a>
					  <a th:if="${c.tipoCategoria == 'CT'}" class="btn btn-danger btn-sm" id="btn_deletar" 	th:href="@{/categoria/{id} (id=${c.id}) }"> 
						 <span class="oi oi-circle-x" title="Exclusão" aria-hidden="true"></span>
				 	  </a>
					  <a th:if="${c.tipoCategoria == 'SC'}" class="btn btn-danger btn-sm" id="btn_deletar" 
					     th:href="@{/categoria/{id}/subcategoria/{id2} (id=${c.idCategoria}, id2=${c.id}) }"> 
					     <span class="oi oi-circle-x" title="Exclusão" aria-hidden="true"></span>
					  </a>								
					</td>
				</tr>
			</tbody>
		</div>
     </div>
	</table>
  </div>
</div>
<div class="tab-content" id="myTab"  role="tablist">
	<div class="tab-pane fade show" id="credito-tab" role="tabpanel" aria-labelledby="credito-tab">
		<table class="table table-striped table-advance table-hover">
			<thead>
				<tr>
					<th style="display:none;">#</th>
					<th><i class="icon_profile"></i> Categoria</th>
					<th><i class="money-check-alt"></i> Débito/Credito</th>
					<th><i class="icon_cogs"></i> Ação</th>
				</tr>
			</thead>
			<div th:switch="${categoriaDTO}">
				<h2 th:case="null">Nenhuma categoria foi encontrada</h2>
			<div th:case="*">
			<tbody>
				<tr th:each="c : ${categoriaDTO}">
					<td style="display:none;"  th:text="${c.id}">1</td>
					<td th:text="${c.descricao}">Auxiliar Contábil</td>
					<td th:text="${c.tipoLancamento.getDescricao()}">Auxiliar Contábil</td>
					<td colspan="3">
						<a th:if="${c.tipoCategoria == 'CT'}" class="btn btn-info btn-sm btnsubCatergoria"
							th:href="@{/categoria/subcategoria/cadastar/{id} (id=${c.id}) }" role="button"> 
							<span class="oi oi-plus" title="Adicionar SubCategoria" aria-hidden="true"></span> 
						</a> 
					   <a th:if="${c.tipoCategoria == 'SC'}" class="btn btn-info btn-sm btnSubCatergoria"
						  th:href="@{/categoria/subcategoria/cadastrar/{id} (id=${c.idCategoria}) }" role="button"> 
						  <span class="oi oi-calculator" title="Lançamento" aria-hidden="true"></span>
					   </a> 
					  <a class="btn btn-info btn-sm btnEditar" id="btn_editar" 	
					     th:href="@{/categoria/editar/{id} (id=${c.id}) }" 	role="button"> 
					     <span class="oi oi-brush" title="Editar" aria-hidden="true"></span>
					  </a>
					  <a th:if="${c.tipoCategoria == 'CT'}" class="btn btn-danger btn-sm" id="btn_deletar" 	th:href="@{/categoria/{id} (id=${c.id}) }"> 
						 <span class="oi oi-circle-x" title="Exclusão" aria-hidden="true"></span>
				 	  </a>
					  <a th:if="${c.tipoCategoria == 'SC'}" class="btn btn-danger btn-sm" id="btn_deletar" 
					     th:href="@{/categoria/{id}/subcategoria/{id2} (id=${c.idCategoria}, id2=${c.id}) }"> 
					     <span class="oi oi-circle-x" title="Exclusão" aria-hidden="true"></span>
					  </a>								
					</td>
				</tr>
			</tbody>
		</div>
     </div>
	</table>
  </div>
</div>